# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ ChildWatch v7.0.0

> **–¶–µ–ª—å —Ä–µ–ª–∏–∑–∞:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é, —É–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —á–∞—Ç.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–∞](#1-–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è-–∏-–∫–∞—Ä—Ç–∞)
2. [–£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ](#2-—É–¥–∞–ª—ë–Ω–Ω–æ–µ-—Ñ–æ—Ç–æ)
3. [–£–ª—É—á—à–µ–Ω–∏—è —á–∞—Ç–∞](#3-—É–ª—É—á—à–µ–Ω–∏—è-—á–∞—Ç–∞)
4. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#4-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

## 1. –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–∞

### –°—Ç–∞—Ç—É—Å: üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞)

### –¶–µ–ª—å

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –∏ –≥–µ–æ–∑–æ–Ω–∞–º–∏.

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenStreetMap (OsmDroid)
- [x] DualLocationMapActivity - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è –∏ —Ä–µ–±—ë–Ω–∫–∞
- [x] –ú–∞—Ä–∫–µ—Ä—ã —Å –ø–æ–¥–ø–∏—Å—è–º–∏ –ø–æ —Ä–æ–ª—è–º
- [x] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ endpoints –¥–ª—è –ª–æ–∫–∞—Ü–∏–π
- [x] ParentLocationTracker –≤ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö

### üîÑ –í —Ä–∞–±–æ—Ç–µ

 - [x] –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π ‚úÖ **–ì–û–¢–û–í–û**
   - [x] API endpoint: `GET /api/location/history/:deviceId?from=&to=`
   - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤ –ë–î —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
   - [x] UI: –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏ (—Å–µ–≥–æ–¥–Ω—è/–≤—á–µ—Ä–∞/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü)
   - [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª–∏–ª–∏–Ω–∏–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ
   - [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: Douglas-Peucker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üìù –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

- [ ] –ì–µ–æ–∑–æ–Ω—ã (–≥–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥)
  - [ ] UI —Å–æ–∑–¥–∞–Ω–∏—è –∑–æ–Ω—ã: –≤—ã–±–æ—Ä —Ç–æ—á–∫–∏ –∏ —Ä–∞–¥–∏—É—Å–∞
  - [ ] –•—Ä–∞–Ω–µ–Ω–∏–µ –≥–µ–æ–∑–æ–Ω –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `geofences`)
  - [ ] Android Geofencing API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  - [ ] –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∑–æ–Ω—ã
  - [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏
  - [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ (–æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å/–ø–æ–ª–∏–≥–æ–Ω)
  - [ ] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≥–µ–æ–∑–æ–Ω

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

```kotlin
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ª–æ–∫–∞—Ü–∏–π
data class LocationHistory(
    val id: Long,
    val deviceId: String,
    val latitude: Double,
    val longitude: Double,
    val accuracy: Float,
    val timestamp: Long
)

// API
POST /api/loc                              // –°—É—â–µ—Å—Ç–≤—É–µ—Ç
GET /api/location/latest/:deviceId         // –°—É—â–µ—Å—Ç–≤—É–µ—Ç
GET /api/location/history/:deviceId        // TODO
POST /api/geofence                         // TODO
GET /api/geofence/:deviceId                // TODO
DELETE /api/geofence/:id                   // TODO
```

---

## 2. –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –Ω–∞—á–∞—Ç–æ
### –°—Ç–∞—Ç—É—Å: üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ

### –¶–µ–ª—å

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—é —É–¥–∞–ª—ë–Ω–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–æ–∫ —Å –∫–∞–º–µ—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ä–µ–±—ë–Ω–∫–∞.

### –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ WebSocket –∫–æ–º–∞–Ω–¥

 - [x] –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ `request_photo` –≤ WebSocketManager ‚úÖ
 - [x] –°–µ—Ä–≤–µ—Ä–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É —Ä–µ–±—ë–Ω–∫–∞ ‚úÖ
 - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ñ–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ (–æ—à–∏–±–∫–∞) ‚úÖ

#### –≠—Ç–∞–ø 2: –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (ParentWatch)

 - [x] –°–æ–∑–¥–∞—Ç—å `RemotePhotoService` —Å CameraX ‚úÖ
 - [x] –†–∞–∑—Ä–µ—à–µ–Ω–∏—è `CAMERA` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã ‚úÖ
 - [x] Foreground Service –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞—Ö–≤–∞—Ç–∞ ‚úÖ
 - [x] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (720p, JPEG quality 85%) ‚úÖ
 - [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `request_photo` —á–µ—Ä–µ–∑ broadcast ‚úÖ

#### –≠—Ç–∞–ø 3: –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö

- [ ] Socket.IO binary transfer –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] Fallback: REST API `POST /api/photo`
- [ ] –°–æ–±—ã—Ç–∏–µ `photo` –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—é
- [ ] ACK –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏

#### –≠—Ç–∞–ø 4: UI —Ä–æ–¥–∏—Ç–µ–ª—è (ChildWatch)

- [ ] –ö–Ω–æ–ø–∫–∞ "üì∑ –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ñ–æ—Ç–æ" –≤ –º–µ–Ω—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- [ ] Activity –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ
- [ ] Notification —Å BigPictureStyle
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∑–∞—â–∏—â—ë–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- [ ] –ì–∞–ª–µ—Ä–µ—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ —Å –¥–∞—Ç–∞–º–∏

#### –≠—Ç–∞–ø 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- [ ] –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (30 —Å–µ–∫)
- [ ] –ò–Ω–¥–∏–∫–∞—Ü–∏—è "–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω..."
- [ ] –û—à–∏–±–∫–∏: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ", "–ö–∞–º–µ—Ä–∞ –∑–∞–Ω—è—Ç–∞"
- [ ] Foreground Service –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞—Ö–≤–∞—Ç–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

```kotlin
// WebSocket —Å–æ–±—ã—Ç–∏—è
socket.emit("request_photo", mapOf("targetDevice" to childId))
socket.on("photo") { data ->
    // ByteArray –∏–ª–∏ Base64
    displayPhoto(data)
}

// –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ö–µ–º–∞
{
  "event": "request_photo",
  "from": "parent_device_id",
  "to": "child_device_id",
  "timestamp": 1699234567890
}

// –†–∞–∑–º–µ—Ä –ª–∏–º–∏—Ç—ã
maxFileSize = 5MB (–ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è)
resolution = 1280x720 (–∏–ª–∏ –º–µ–Ω—å—à–µ)
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è –ó–≤—É–∫ –∑–∞—Ç–≤–æ—Ä–∞ –∫–∞–º–µ—Ä—ã (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–±—Ä–∞—Å—ã–≤–∞–µ–º—ã–º)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Ä–µ–±—ë–Ω–∫–∞
- ‚úÖ –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ñ–æ—Ç–æ

---

## 3. –£–ª—É—á—à–µ–Ω–∏—è —á–∞—Ç–∞

### –°—Ç–∞—Ç—É—Å: üü¢ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –¶–µ–ª—å

–ù–∞–¥—ë–∂–Ω—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —á–∞—Ç —É—Ä–æ–≤–Ω—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ —Å –ø–æ–ª–Ω–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏.

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] –ë–∞–∑–æ–≤—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ WebSocket
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ë–î
- [x] –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- [x] –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—É–∑—ã—Ä–∏, —Ü–≤–µ—Ç–∞)
- [x] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç–∞–≤–∫–∏ (–¥–≤–æ–π–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
- [x] Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- [x] –û—Ç–º–µ—Ç–∫–∞ "–ø—Ä–æ—á–∏—Ç–∞–Ω–æ" –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞

### üîÑ –£–ª—É—á—à–µ–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

- [ ] –ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- [ ] Ping/pong heartbeat (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ UI
- [ ] Foreground Service –¥–ª—è —á–∞—Ç–∞ –≤ —Ñ–æ–Ω–µ
- [ ] –û—á–µ—Ä–µ–¥—å –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (retry)

### üìù –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- [ ] **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–±–æ—Ä–∞**

  - [ ] –°–æ–±—ã—Ç–∏—è `typing_start` / `typing_stop`
  - [ ] UI: "...–ø–µ—á–∞—Ç–∞–µ—Ç" –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
  - [ ] –¢–∞–π–º–∞—É—Ç 5 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- [ ] **–°—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω**

  - [ ] –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  - [ ] –°–æ–±—ã—Ç–∏—è `user_online` / `user_offline`
  - [ ] UI: –∑–µ–ª—ë–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä + "–±—ã–ª –≤ —Å–µ—Ç–∏ X –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥"

- [ ] **–ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**

  - [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–≤—ã–±–æ—Ä –∏–∑ –≥–∞–ª–µ—Ä–µ–∏)
  - [ ] –ú–∏–Ω–∏–∞—Ç—é—Ä—ã –≤ —á–∞—Ç–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ –ø–æ–ª–Ω—ã–π —Ä–∞–∑–º–µ—Ä
  - [ ] –õ–∏–º–∏—Ç: 5MB –Ω–∞ —Ñ–∞–π–ª
  - [ ] –¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è: `text` / `image`

- [ ] **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ**

  - [ ] API: `PUT /api/chat/message/:id`, `DELETE /api/chat/message/:id`
  - [ ] UI: –¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
  - [ ] –ü–æ–º–µ—Ç–∫–∞ "(edited)" –¥–ª—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
  - [ ] "–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ" –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö

- [ ] **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**
  - [ ] –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ / –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ / –ø—Ä–æ—á–∏—Ç–∞–Ω–æ
  - [ ] –û–¥–Ω–∞ –≥–∞–ª–æ—á–∫–∞: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
  - [ ] –î–≤–µ —Å–µ—Ä—ã–µ: –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
  - [ ] –î–≤–µ —Å–∏–Ω–∏–µ: –ø—Ä–æ—á–∏—Ç–∞–Ω–æ

### Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- [ ] Firebase Cloud Messaging –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Push –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ñ–æ–Ω–µ
- [ ] –î–µ–π—Å—Ç–≤–∏—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ (–æ—Ç–≤–µ—Ç–∏—Ç—å, –ø–æ–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º)

### –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```javascript
// –ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è Socket.IO
socket.on('typing', (data) => { /* broadcast to recipient */ })
socket.on('message_ack', (msgId) => { /* update DB delivered=true */ })
socket.on('message_read', (msgIds) => { /* update DB read=true */ })

// –ù–æ–≤—ã–µ endpoints
PUT /api/chat/message/:id      // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
DELETE /api/chat/message/:id   // –£–¥–∞–ª–µ–Ω–∏–µ (soft delete)
POST /api/chat/upload          // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞

// –ë–î —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
ALTER TABLE chat_messages ADD COLUMN read BOOLEAN DEFAULT 0;
ALTER TABLE chat_messages ADD COLUMN edited_at INTEGER;
ALTER TABLE chat_messages ADD COLUMN is_deleted BOOLEAN DEFAULT 0;
ALTER TABLE chat_messages ADD COLUMN media_type TEXT; -- 'text', 'image'
ALTER TABLE chat_messages ADD COLUMN media_url TEXT;
```

---

## 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è

- [ ] –¢–æ—á–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –ò—Å—Ç–æ—Ä–∏—è: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ—á–µ–∫, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- [ ] –ì–µ–æ–∑–æ–Ω—ã: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- [ ] –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∑–æ–Ω—ã
- [ ] –≠–º—É–ª—è—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è (—á–µ—Ä–µ–∑ mock locations)

#### –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ

- [ ] –ó–∞—Ö–≤–∞—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö Android –≤–µ—Ä—Å–∏—è—Ö (API 26-34)
- [ ] –§–æ–Ω vs –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω
- [ ] –≠–∫—Ä–∞–Ω –≤—ã–∫–ª—é—á–µ–Ω/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- [ ] –¢–∞–π–º–∞—É—Ç—ã –∏ —Ä–∞–∑—Ä—ã–≤—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### –ß–∞—Ç

- [ ] –û—Ñ–ª–∞–π–Ω-—Å—Ü–µ–Ω–∞—Ä–∏–∏: –æ—Ç–ø—Ä–∞–≤–∫–∞ ‚Üí –æ—Ñ–ª–∞–π–Ω ‚Üí –æ–Ω–ª–∞–π–Ω
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –ò–Ω–¥–∏–∫–∞—Ü–∏—è "–ø–µ—á–∞—Ç–∞–µ—Ç"
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### –†–µ–≥—Ä–µ—Å—Å

- [ ] –ê—É–¥–∏–æ–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ —Å–ª–æ–º–∞–Ω
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- [x] –¢–æ–∫–µ–Ω—ã –¥–ª—è API requests
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: —Ä–æ–¥–∏—Ç–µ–ª—å ‚Üí —Ç–æ–ª—å–∫–æ —Å–≤–æ–π —Ä–µ–±—ë–Ω–æ–∫
- [ ] Rate limiting –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Ñ–æ—Ç–æ (–º–∞–∫—Å 10/—á–∞—Å)

#### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

- [x] HTTPS/WSS –¥–ª—è –≤—Å–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å E2E —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Ç–∞ (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ)

#### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SQLCipher)
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ (90 –¥–Ω–µ–π ‚Üí –∞–≤—Ç–æ-—É–¥–∞–ª–µ–Ω–∏–µ)
- [ ] –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤: –º–µ–¥–∏–∞ –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### –í–∞–ª–∏–¥–∞—Ü–∏—è

- [ ] –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: –¥–∏–∞–ø–∞–∑–æ–Ω lat/lng, —Ñ–æ—Ä–º–∞—Ç
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: MIME-type –ø—Ä–æ–≤–µ—Ä–∫–∞, —Ä–∞–∑–º–µ—Ä
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è: –¥–ª–∏–Ω–∞, sanitization

#### –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

- [ ] Android –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–∞–º–µ—Ä—ã/–ª–æ–∫–∞—Ü–∏–∏ (–Ω–∞—Ç–∏–≤–Ω—ã–µ)
- [ ] Foreground notification –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ

### –í—ã–ø—É—Å–∫ v7.0.0

#### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ

- [ ] Bump –≤–µ—Ä—Å–∏–∏: versionCode +1, versionName = 7.0.0
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Å –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- [ ] –°–∫—Ä–∏–Ω—à–æ—Ç—ã: –∫–∞—Ä—Ç–∞, —Ñ–æ—Ç–æ, –Ω–æ–≤—ã–π —á–∞—Ç

#### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- [ ] –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –æ–±–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è v7.0.0+
- [ ] –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π

#### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

- [ ] Google Play: –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–±–æ—Ä–∫–∞: APK –ø–æ–¥–ø–∏—Å–∞–Ω—ã, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –æ–±–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] Sentry/Crashlytics –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫
- [ ] –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- [ ] –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è –¥–ª—è –±–∞–≥–æ–≤ (GitHub Issues)

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### P0 (–ö—Ä–∏—Ç–∏—á–Ω—ã–µ - v7.0.0 —Ä–µ–ª–∏–∑-–±–ª–æ–∫–µ—Ä—ã)

1. –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π (–∫–∞—Ä—Ç–∞)
2. –ë–∞–∑–æ–≤—ã–π —É–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ
3. –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —á–∞—Ç–∞ (–∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ P0 —Ñ—É–Ω–∫—Ü–∏–π

### P1 (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - v7.0.0 –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

1. –ì–µ–æ–∑–æ–Ω—ã (–±–∞–∑–æ–≤—ã–µ)
2. –ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–±–æ—Ä–∞ –≤ —á–∞—Ç–µ
3. –°—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω
4. Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —á–∞—Ç–∞

### P2 (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - v7.1.0)

1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —á–∞—Ç–µ
2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (—Ç—Ä–∏ —Ç–∏–ø–∞ –≥–∞–ª–æ—á–µ–∫)
4. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≥–µ–æ–∑–æ–Ω—ã (–ø–æ–ª–∏–≥–æ–Ω—ã)

### P3 (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –±—É–¥—É—â–µ–µ)

1. E2E —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞
2. –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. –í–∏–¥–µ–æ-–∑–≤–æ–Ω–æ–∫
4. ML-–∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π

---

## üóìÔ∏è –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è)

**–ù–µ–¥–µ–ª—è 1-2:** –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π + —Ç–µ—Å—Ç—ã  
**–ù–µ–¥–µ–ª—è 3-4:** –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ñ–æ—Ç–æ (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)  
**–ù–µ–¥–µ–ª—è 5:** –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —á–∞—Ç–∞ + –∏–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–±–æ—Ä–∞  
**–ù–µ–¥–µ–ª—è 6:** –ì–µ–æ–∑–æ–Ω—ã (–±–∞–∑–æ–≤—ã–µ)  
**–ù–µ–¥–µ–ª—è 7:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–ù–µ–¥–µ–ª—è 8:** –ë–∞–≥—Ñ–∏–∫—Å—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Ä–µ–ª–∏–∑

---

## üìé –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [ARCHITECTURE.md](ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [DEVELOPMENT.md](DEVELOPMENT.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- [CHANGELOG.md](CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [TESTING.md](TESTING.md) - –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–°–æ–∑–¥–∞–Ω–æ:** 6 –Ω–æ—è–±—Ä—è 2025  
**–¶–µ–ª–µ–≤–∞—è –¥–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** –Ø–Ω–≤–∞—Ä—å 2026  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
