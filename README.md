# ChildWatch - Android Monitoring Application

ChildWatch - СЌС‚Рѕ Android РїСЂРёР»РѕР¶РµРЅРёРµ РґР»СЏ РјРѕРЅРёС‚РѕСЂРёРЅРіР° РјРµСЃС‚РѕРїРѕР»РѕР¶РµРЅРёСЏ Рё Р·Р°РїРёСЃРё Р°СѓРґРёРѕ, РїСЂРµРґРЅР°Р·РЅР°С‡РµРЅРЅРѕРµ РґР»СЏ РѕР±РµСЃРїРµС‡РµРЅРёСЏ Р±РµР·РѕРїР°СЃРЅРѕСЃС‚Рё РґРµС‚РµР№. РџСЂРёР»РѕР¶РµРЅРёРµ СЂР°Р±РѕС‚Р°РµС‚ РєР°Рє foreground service СЃ РїРѕСЃС‚РѕСЏРЅРЅС‹Рј СѓРІРµРґРѕРјР»РµРЅРёРµРј Рё РѕС‚РїСЂР°РІР»СЏРµС‚ РґР°РЅРЅС‹Рµ РЅР° СЃРµСЂРІРµСЂ.

## вљ пёЏ Р’РђР–РќР«Р• Р®Р РР”РР§Р•РЎРљРР• Р Р­РўРР§Р•РЎРљРР• РђРЎРџР•РљРўР«

**Р’РќРРњРђРќРР•**: Р­С‚Рѕ РїСЂРёР»РѕР¶РµРЅРёРµ РїСЂРµРґРЅР°Р·РЅР°С‡РµРЅРѕ РўРћР›Р¬РљРћ РґР»СЏ Р·Р°РєРѕРЅРЅРѕРіРѕ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёСЏ СЃ СЏРІРЅРѕРіРѕ СЃРѕРіР»Р°СЃРёСЏ РѕС‚СЃР»РµР¶РёРІР°РµРјРѕРіРѕ Р»РёС†Р°.

### Р”РѕРїСѓСЃС‚РёРјС‹Рµ СЃС†РµРЅР°СЂРёРё РёСЃРїРѕР»СЊР·РѕРІР°РЅРёСЏ:
- вњ… Р РѕРґРёС‚РµР»СЊСЃРєРёР№ РєРѕРЅС‚СЂРѕР»СЊ РґР»СЏ РЅРµСЃРѕРІРµСЂС€РµРЅРЅРѕР»РµС‚РЅРёС… РґРµС‚РµР№
- вњ… Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ РїРѕР¶РёР»С‹С… СЂРѕРґСЃС‚РІРµРЅРЅРёРєРѕРІ (СЃ РёС… СЃРѕРіР»Р°СЃРёСЏ)
- вњ… РљРѕСЂРїРѕСЂР°С‚РёРІРЅС‹Рµ СѓСЃС‚СЂРѕР№СЃС‚РІР° СЃ РїРёСЃСЊРјРµРЅРЅС‹Рј СЃРѕРіР»Р°СЃРёРµРј СЃРѕС‚СЂСѓРґРЅРёРєРѕРІ
- вњ… РџРѕРёСЃРє РїРѕС‚РµСЂСЏРЅРЅС‹С…/СѓРєСЂР°РґРµРЅРЅС‹С… СѓСЃС‚СЂРѕР№СЃС‚РІ (СЃРѕР±СЃС‚РІРµРЅРЅС‹С…)

### РќРµРґРѕРїСѓСЃС‚РёРјРѕРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ:
- вќЊ РЎР»РµР¶РєР° Р·Р° РІР·СЂРѕСЃР»С‹РјРё Р±РµР· РёС… СЃРѕРіР»Р°СЃРёСЏ
- вќЊ РЁРїРёРѕРЅР°Р¶ Р·Р° СЃСѓРїСЂСѓРіР°РјРё/РїР°СЂС‚РЅРµСЂР°РјРё
- вќЊ Р›СЋР±РѕРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ Р±РµР· СЏРІРЅРѕРіРѕ СЃРѕРіР»Р°СЃРёСЏ РѕС‚СЃР»РµР¶РёРІР°РµРјРѕРіРѕ Р»РёС†Р°
- вќЊ РљРѕРјРјРµСЂС‡РµСЃРєРѕРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ Р±РµР· СЃРѕРѕС‚РІРµС‚СЃС‚РІСѓСЋС‰РёС… Р»РёС†РµРЅР·РёР№

### РўРµРєСЃС‚ СЃРѕРіР»Р°СЃРёСЏ РґР»СЏ СѓСЃС‚Р°РЅРѕРІРєРё РЅР° СѓСЃС‚СЂРѕР№СЃС‚РІРѕ СЂРµР±РµРЅРєР°:

```
"Р”Р°РЅРЅРѕРµ РїСЂРёР»РѕР¶РµРЅРёРµ Р±СѓРґРµС‚ РѕС‚СЃР»РµР¶РёРІР°С‚СЊ РјРµСЃС‚РѕРїРѕР»РѕР¶РµРЅРёРµ СЌС‚РѕРіРѕ СѓСЃС‚СЂРѕР№СЃС‚РІР° Рё РїРµСЂРёРѕРґРёС‡РµСЃРєРё Р·Р°РїРёСЃС‹РІР°С‚СЊ Р·РІСѓРє РІРѕРєСЂСѓРі РґР»СЏ РѕР±РµСЃРїРµС‡РµРЅРёСЏ Р±РµР·РѕРїР°СЃРЅРѕСЃС‚Рё. Р’СЃРµ РґР°РЅРЅС‹Рµ РїРµСЂРµРґР°СЋС‚СЃСЏ С‚РѕР»СЊРєРѕ СЂРѕРґРёС‚РµР»СЏРј/РѕРїРµРєСѓРЅР°Рј Рё РёСЃРїРѕР»СЊР·СѓСЋС‚СЃСЏ РёСЃРєР»СЋС‡РёС‚РµР»СЊРЅРѕ РІ С†РµР»СЏС… Р±РµР·РѕРїР°СЃРЅРѕСЃС‚Рё. РњРѕРЅРёС‚РѕСЂРёРЅРі РјРѕР¶РЅРѕ РѕС‚РєР»СЋС‡РёС‚СЊ РІ Р»СЋР±РѕРµ РІСЂРµРјСЏ С‡РµСЂРµР· РЅР°СЃС‚СЂРѕР№РєРё РїСЂРёР»РѕР¶РµРЅРёСЏ. РСЃРїРѕР»СЊР·СѓСЏ СЌС‚Рѕ РїСЂРёР»РѕР¶РµРЅРёРµ, РІС‹ СЃРѕРіР»Р°С€Р°РµС‚РµСЃСЊ СЃ РґР°РЅРЅС‹РјРё СѓСЃР»РѕРІРёСЏРјРё."
```

## рџЏ—пёЏ РђСЂС…РёС‚РµРєС‚СѓСЂР° РїСЂРёР»РѕР¶РµРЅРёСЏ

### РћСЃРЅРѕРІРЅС‹Рµ РєРѕРјРїРѕРЅРµРЅС‚С‹:

1. **MainActivity** - Р“Р»Р°РІРЅС‹Р№ СЌРєСЂР°РЅ СЃ onboarding Рё СѓРїСЂР°РІР»РµРЅРёРµРј
2. **MonitorService** - Foreground СЃРµСЂРІРёСЃ РґР»СЏ РЅРµРїСЂРµСЂС‹РІРЅРѕРіРѕ РјРѕРЅРёС‚РѕСЂРёРЅРіР°
3. **LocationManager** - Р Р°Р±РѕС‚Р° СЃ GPS С‡РµСЂРµР· Google Play Services
4. **AudioRecorder** - Р—Р°РїРёСЃСЊ Р°СѓРґРёРѕ С„СЂР°РіРјРµРЅС‚РѕРІ
5. **NetworkClient** - HTTP РєР»РёРµРЅС‚ РґР»СЏ РѕС‚РїСЂР°РІРєРё РґР°РЅРЅС‹С…
6. **PermissionHelper** - РЈРїСЂР°РІР»РµРЅРёРµ СЂР°Р·СЂРµС€РµРЅРёСЏРјРё
7. **BootReceiver** - РђРІС‚РѕР·Р°РїСѓСЃРє РїРѕСЃР»Рµ РїРµСЂРµР·Р°РіСЂСѓР·РєРё

### Р¤СѓРЅРєС†РёРѕРЅР°Р»:

- рџ—єпёЏ **РћС‚СЃР»РµР¶РёРІР°РЅРёРµ РіРµРѕР»РѕРєР°С†РёРё** - РєР°Р¶РґС‹Рµ 30 СЃРµРєСѓРЅРґ (РЅР°СЃС‚СЂР°РёРІР°РµС‚СЃСЏ)
- рџЋ¤ **Р—Р°РїРёСЃСЊ Р°СѓРґРёРѕ** - РїРѕ РєРѕРјР°РЅРґРµ, РґР»РёС‚РµР»СЊРЅРѕСЃС‚СЊ РЅР°СЃС‚СЂР°РёРІР°РµС‚СЃСЏ
- рџ“Ў **РћС‚РїСЂР°РІРєР° РґР°РЅРЅС‹С…** - HTTPS РЅР° СЃРµСЂРІРµСЂ РёР»Рё Firebase Storage
- рџ”” **Foreground СѓРІРµРґРѕРјР»РµРЅРёСЏ** - РїРѕРєР°Р·С‹РІР°РµС‚ Р°РєС‚РёРІРЅРѕСЃС‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРіР°
- рџ”ђ **РЈРїСЂР°РІР»РµРЅРёРµ СЂР°Р·СЂРµС€РµРЅРёСЏРјРё** - Р·Р°РїСЂРѕСЃ РІСЃРµС… РЅРµРѕР±С…РѕРґРёРјС‹С… СЂР°Р·СЂРµС€РµРЅРёР№
- рџ“± **FCM РєРѕРјР°РЅРґС‹** - СѓРґР°Р»РµРЅРЅРѕРµ СѓРїСЂР°РІР»РµРЅРёРµ (requestLocationNow, startAudioCapture)

## рџ“‹ РўСЂРµР±РѕРІР°РЅРёСЏ

### Android:
- **minSdk**: 26 (Android 8.0)
- **targetSdk**: 34 (Android 14)
- **Р Р°Р·СЂРµС€РµРЅРёСЏ**: GPS, РјРёРєСЂРѕС„РѕРЅ, СЃРµС‚СЊ, foreground service

### РЎРµСЂРІРµСЂ:
- Node.js 16+
- РџРѕСЂС‚ 3000 (РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ)
- ngrok РґР»СЏ С‚РµСЃС‚РёСЂРѕРІР°РЅРёСЏ

## рџљЂ РЈСЃС‚Р°РЅРѕРІРєР° Рё СЃР±РѕСЂРєР°

### 1. РљР»РѕРЅРёСЂРѕРІР°РЅРёРµ Рё РїРѕРґРіРѕС‚РѕРІРєР°

```bash
# Р•СЃР»Рё РїСЂРѕРµРєС‚ РІ git СЂРµРїРѕР·РёС‚РѕСЂРёРё
git clone <repository-url>
cd ChildWatch

# РР»Рё СЃРѕР·РґР°РЅРёРµ СЃ РЅСѓР»СЏ (СѓР¶Рµ СЃРѕР·РґР°РЅРѕ)
# mkdir ChildWatch && cd ChildWatch
```

### 2. РЎР±РѕСЂРєР° Android РїСЂРёР»РѕР¶РµРЅРёСЏ

```bash
# РЎР±РѕСЂРєР° debug РІРµСЂСЃРёРё
./gradlew assembleDebug

# Р РµР·СѓР»СЊС‚Р°С‚: app/build/outputs/apk/debug/app-debug.apk
```

### 3. РЈСЃС‚Р°РЅРѕРІРєР° РЅР° СѓСЃС‚СЂРѕР№СЃС‚РІРѕ

```bash
# РЈСЃС‚Р°РЅРѕРІРєР° С‡РµСЂРµР· ADB
adb install -r app/build/outputs/apk/debug/app-debug.apk

# Р—Р°РїСѓСЃРє РїСЂРёР»РѕР¶РµРЅРёСЏ
adb shell am start -n ru.example.childwatch/.MainActivity
```

### 4. Р’С‹РґР°С‡Р° СЂР°Р·СЂРµС€РµРЅРёР№ С‡РµСЂРµР· ADB

```bash
# РћСЃРЅРѕРІРЅС‹Рµ СЂР°Р·СЂРµС€РµРЅРёСЏ
adb shell pm grant ru.example.childwatch android.permission.ACCESS_FINE_LOCATION
adb shell pm grant ru.example.childwatch android.permission.ACCESS_COARSE_LOCATION
adb shell pm grant ru.example.childwatch android.permission.RECORD_AUDIO

# Р¤РѕРЅРѕРІР°СЏ РіРµРѕР»РѕРєР°С†РёСЏ (Android 10+)
# Р’РќРРњРђРќРР•: РњРѕР¶РµС‚ РЅРµ СЂР°Р±РѕС‚Р°С‚СЊ С‡РµСЂРµР· ADB РЅР° РЅРµРєРѕС‚РѕСЂС‹С… СѓСЃС‚СЂРѕР№СЃС‚РІР°С…
adb shell pm grant ru.example.childwatch android.permission.ACCESS_BACKGROUND_LOCATION
```

**Р•СЃР»Рё С„РѕРЅРѕРІРѕРµ РјРµСЃС‚РѕРїРѕР»РѕР¶РµРЅРёРµ РЅРµ СЂР°Р±РѕС‚Р°РµС‚ С‡РµСЂРµР· ADB:**

1. РћС‚РєСЂРѕР№С‚Рµ РќР°СЃС‚СЂРѕР№РєРё в†’ РџСЂРёР»РѕР¶РµРЅРёСЏ в†’ ChildWatch в†’ Р Р°Р·СЂРµС€РµРЅРёСЏ
2. РќР°Р¶РјРёС‚Рµ РЅР° "РњРµСЃС‚РѕРїРѕР»РѕР¶РµРЅРёРµ"
3. Р’С‹Р±РµСЂРёС‚Рµ "Р Р°Р·СЂРµС€РёС‚СЊ РІСЃРµ РІСЂРµРјСЏ"

### 5. РќР°СЃС‚СЂРѕР№РєР° Рё Р·Р°РїСѓСЃРє СЃРµСЂРІРµСЂР°

```bash
# РџРµСЂРµС…РѕРґ РІ РєР°С‚Р°Р»РѕРі СЃРµСЂРІРµСЂР°
cd server

# РЈСЃС‚Р°РЅРѕРІРєР° Р·Р°РІРёСЃРёРјРѕСЃС‚РµР№
npm install

# Р—Р°РїСѓСЃРє СЃРµСЂРІРµСЂР°
npm start

# Р”Р»СЏ СЂР°Р·СЂР°Р±РѕС‚РєРё СЃ Р°РІС‚РѕРїРµСЂРµР·Р°РїСѓСЃРєРѕРј
npm run dev
```

### 6. РќР°СЃС‚СЂРѕР№РєР° ngrok РґР»СЏ С‚РµСЃС‚РёСЂРѕРІР°РЅРёСЏ

```bash
# РЈСЃС‚Р°РЅРѕРІРєР° ngrok (РµСЃР»Рё РЅРµ СѓСЃС‚Р°РЅРѕРІР»РµРЅ)
# РЎРєР°С‡Р°С‚СЊ СЃ https://ngrok.com/download

# Р—Р°РїСѓСЃРє С‚СѓРЅРЅРµР»СЏ РґР»СЏ РїРѕСЂС‚Р° 3000
ngrok http 3000

# РљРѕРїРёСЂСѓР№С‚Рµ HTTPS URL (РЅР°РїСЂРёРјРµСЂ: https://abc123.ngrok.io)
# Р’СЃС‚Р°РІСЊС‚Рµ РІ РЅР°СЃС‚СЂРѕР№РєРё РїСЂРёР»РѕР¶РµРЅРёСЏ РєР°Рє Server URL
```

## рџ”§ РљРѕРЅС„РёРіСѓСЂР°С†РёСЏ

### РќР°СЃС‚СЂРѕР№РєРё РїСЂРёР»РѕР¶РµРЅРёСЏ:

1. **РРЅС‚РµСЂРІР°Р» РѕС‚РїСЂР°РІРєРё Р»РѕРєР°С†РёРё** - РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ 30 СЃРµРєСѓРЅРґ
2. **Р”Р»РёС‚РµР»СЊРЅРѕСЃС‚СЊ Р°СѓРґРёРѕ** - РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ 20 СЃРµРєСѓРЅРґ  
3. **URL СЃРµСЂРІРµСЂР°** - Р·Р°РјРµРЅРёС‚Рµ РЅР° РІР°С€ ngrok URL

### РР·РјРµРЅРµРЅРёРµ endpoint РІ РїСЂРёР»РѕР¶РµРЅРёРё:

1. Р—Р°РїСѓСЃС‚РёС‚Рµ РїСЂРёР»РѕР¶РµРЅРёРµ
2. Р”Р°Р№С‚Рµ СЃРѕРіР»Р°СЃРёРµ РЅР° РјРѕРЅРёС‚РѕСЂРёРЅРі
3. Р’ СЂР°Р·РґРµР»Рµ "РќР°СЃС‚СЂРѕР№РєРё" РёР·РјРµРЅРёС‚Рµ "URL СЃРµСЂРІРµСЂР°"
4. Р’РІРµРґРёС‚Рµ РІР°С€ ngrok URL: `https://your-id.ngrok.io`

## рџ§Є РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ

### РџСЂРѕРІРµСЂРєР° СЂР°Р±РѕС‚С‹ РїСЂРёР»РѕР¶РµРЅРёСЏ:

1. **РЈСЃС‚Р°РЅРѕРІРєР° Рё Р·Р°РїСѓСЃРє**:
   ```bash
   ./gradlew assembleDebug
   adb install -r app/build/outputs/apk/debug/app-debug.apk
   adb shell am start -n ru.example.childwatch/.MainActivity
   ```

2. **РџСЂРѕРІРµСЂРєР° СЂР°Р·СЂРµС€РµРЅРёР№**:
   - РћС‚РєСЂРѕР№С‚Рµ РїСЂРёР»РѕР¶РµРЅРёРµ
   - РќР°Р¶РјРёС‚Рµ "Р Р°Р·СЂРµС€Р°СЋ" РІ СЌРєСЂР°РЅРµ СЃРѕРіР»Р°СЃРёСЏ
   - РџСЂРµРґРѕСЃС‚Р°РІСЊС‚Рµ РІСЃРµ Р·Р°РїСЂР°С€РёРІР°РµРјС‹Рµ СЂР°Р·СЂРµС€РµРЅРёСЏ

3. **Р—Р°РїСѓСЃРє РјРѕРЅРёС‚РѕСЂРёРЅРіР°**:
   - Р’РєР»СЋС‡РёС‚Рµ РїРµСЂРµРєР»СЋС‡Р°С‚РµР»СЊ "РђРєС‚РёРІРёСЂРѕРІР°С‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРі"
   - РќР°Р¶РјРёС‚Рµ "РќР°С‡Р°С‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРі"
   - РџСЂРѕРІРµСЂСЊС‚Рµ РїРѕСЏРІР»РµРЅРёРµ СѓРІРµРґРѕРјР»РµРЅРёСЏ

4. **РџСЂРѕРІРµСЂРєР° РѕС‚РїСЂР°РІРєРё РґР°РЅРЅС‹С…**:
   - Р—Р°РїСѓСЃС‚РёС‚Рµ СЃРµСЂРІРµСЂ: `cd server && npm start`
   - Р—Р°РїСѓСЃС‚РёС‚Рµ ngrok: `ngrok http 3000`
   - РћР±РЅРѕРІРёС‚Рµ URL РІ РїСЂРёР»РѕР¶РµРЅРёРё
   - РџСЂРѕРІРµСЂСЊС‚Рµ Р»РѕРіРё СЃРµСЂРІРµСЂР° РЅР° РЅР°Р»РёС‡РёРµ POST Р·Р°РїСЂРѕСЃРѕРІ

### РџСЂРѕРІРµСЂРєР° Р»РѕРіРѕРІ:

```bash
# Р›РѕРіРё Android РїСЂРёР»РѕР¶РµРЅРёСЏ
adb logcat | grep ChildWatch

# Р›РѕРіРё СЃРµСЂРІРµСЂР°
tail -f server/server.log

# РР»Рё РїСЂРѕСЃС‚Рѕ СЃРјРѕС‚СЂРёС‚Рµ РєРѕРЅСЃРѕР»СЊ СЃРµСЂРІРµСЂР°
```

### РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ РєРѕРјР°РЅРґ FCM (СЌРјСѓР»СЏС†РёСЏ):

```bash
# Р—Р°РїСЂРѕСЃ С‚РµРєСѓС‰РµР№ Р»РѕРєР°С†РёРё
adb shell am start-foreground-service \
  -n ru.example.childwatch/.service.MonitorService \
  -a request_location

# Р—Р°РїРёСЃСЊ Р°СѓРґРёРѕ РЅР° 15 СЃРµРєСѓРЅРґ
adb shell am start-foreground-service \
  -n ru.example.childwatch/.service.MonitorService \
  -a start_audio_capture \
  --ei audio_duration 15
```

## рџ“Ѓ РЎС‚СЂСѓРєС‚СѓСЂР° РїСЂРѕРµРєС‚Р°

```
ChildWatch/
в”њв”Ђв”Ђ app/
в”‚   в”њв”Ђв”Ђ build.gradle                    # Р—Р°РІРёСЃРёРјРѕСЃС‚Рё Рё РєРѕРЅС„РёРіСѓСЂР°С†РёСЏ
в”‚   в””в”Ђв”Ђ src/main/
в”‚       в”њв”Ђв”Ђ AndroidManifest.xml         # Р Р°Р·СЂРµС€РµРЅРёСЏ Рё РєРѕРјРїРѕРЅРµРЅС‚С‹
в”‚       в”њв”Ђв”Ђ java/ru/example/childwatch/
в”‚       в”‚   в”њв”Ђв”Ђ MainActivity.kt          # Р“Р»Р°РІРЅС‹Р№ СЌРєСЂР°РЅ
в”‚       в”‚   в”њв”Ђв”Ђ service/
в”‚       в”‚   в”‚   в””в”Ђв”Ђ MonitorService.kt    # Foreground СЃРµСЂРІРёСЃ
в”‚       в”‚   в”њв”Ђв”Ђ location/
в”‚       в”‚   в”‚   в””в”Ђв”Ђ LocationManager.kt   # GPS РјРµРЅРµРґР¶РµСЂ
в”‚       в”‚   в”њв”Ђв”Ђ audio/
в”‚       в”‚   в”‚   в””в”Ђв”Ђ AudioRecorder.kt     # Р—Р°РїРёСЃСЊ Р°СѓРґРёРѕ
в”‚       в”‚   в”њв”Ђв”Ђ network/
в”‚       в”‚   в”‚   в””в”Ђв”Ђ NetworkClient.kt     # HTTP РєР»РёРµРЅС‚
в”‚       в”‚   в”њв”Ђв”Ђ utils/
в”‚       в”‚   в”‚   в””в”Ђв”Ђ PermissionHelper.kt  # РџРѕРјРѕС‰РЅРёРє СЂР°Р·СЂРµС€РµРЅРёР№
в”‚       в”‚   в””в”Ђв”Ђ receiver/
в”‚       в”‚       в””в”Ђв”Ђ BootReceiver.kt      # РђРІС‚РѕР·Р°РїСѓСЃРє
в”‚       в””в”Ђв”Ђ res/                         # Р РµСЃСѓСЂСЃС‹ (layouts, strings, etc.)
в”њв”Ђв”Ђ server/
в”‚   в”њв”Ђв”Ђ package.json                     # Node.js Р·Р°РІРёСЃРёРјРѕСЃС‚Рё
в”‚   в”њв”Ђв”Ђ index.js                         # Express СЃРµСЂРІРµСЂ
в”‚   в””в”Ђв”Ђ uploads/                         # Р—Р°РіСЂСѓР¶РµРЅРЅС‹Рµ С„Р°Р№Р»С‹
в”њв”Ђв”Ђ build.gradle                         # РљРѕСЂРЅРµРІР°СЏ РєРѕРЅС„РёРіСѓСЂР°С†РёСЏ
в”њв”Ђв”Ђ settings.gradle                      # РќР°СЃС‚СЂРѕР№РєРё РїСЂРѕРµРєС‚Р°
в””в”Ђв”Ђ README.md                            # Р­С‚РѕС‚ С„Р°Р№Р»
```

## рџ”Ќ РћС‚Р»Р°РґРєР° Рё СЂРµС€РµРЅРёРµ РїСЂРѕР±Р»РµРј

### Р§Р°СЃС‚С‹Рµ РїСЂРѕР±Р»РµРјС‹:

1. **Р Р°Р·СЂРµС€РµРЅРёСЏ РЅРµ РїСЂРµРґРѕСЃС‚Р°РІР»РµРЅС‹**:
   - РџСЂРѕРІРµСЂСЊС‚Рµ С‡РµСЂРµР· ADB: `adb shell dumpsys package ru.example.childwatch | grep permission`
   - РџСЂРµРґРѕСЃС‚Р°РІСЊС‚Рµ РІСЂСѓС‡РЅСѓСЋ С‡РµСЂРµР· РЅР°СЃС‚СЂРѕР№РєРё СѓСЃС‚СЂРѕР№СЃС‚РІР°

2. **Р¤РѕРЅРѕРІР°СЏ РіРµРѕР»РѕРєР°С†РёСЏ РЅРµ СЂР°Р±РѕС‚Р°РµС‚**:
   - Android 10+: РѕР±СЏР·Р°С‚РµР»СЊРЅРѕ "Р Р°Р·СЂРµС€РёС‚СЊ РІСЃРµ РІСЂРµРјСЏ" РІ РЅР°СЃС‚СЂРѕР№РєР°С…
   - РџСЂРѕРІРµСЂСЊС‚Рµ РѕРїС‚РёРјРёР·Р°С†РёСЋ Р±Р°С‚Р°СЂРµРё: РѕС‚РєР»СЋС‡РёС‚Рµ РґР»СЏ ChildWatch

3. **РђСѓРґРёРѕ РЅРµ Р·Р°РїРёСЃС‹РІР°РµС‚СЃСЏ РЅР° Android 14+**:
   - РЈР±РµРґРёС‚РµСЃСЊ, С‡С‚Рѕ foreground СЃРµСЂРІРёСЃ Р°РєС‚РёРІРµРЅ
   - РџСЂРѕРІРµСЂСЊС‚Рµ СѓРІРµРґРѕРјР»РµРЅРёРµ - РґРѕР»Р¶РЅРѕ РїРѕРєР°Р·С‹РІР°С‚СЊ "Р—Р°РїРёСЃСЊ Р°СѓРґРёРѕ..."

4. **РЎРµСЂРІРµСЂ РЅРµ РїРѕР»СѓС‡Р°РµС‚ РґР°РЅРЅС‹Рµ**:
   - РџСЂРѕРІРµСЂСЊС‚Рµ URL РІ РЅР°СЃС‚СЂРѕР№РєР°С… РїСЂРёР»РѕР¶РµРЅРёСЏ
   - РЈР±РµРґРёС‚РµСЃСЊ, С‡С‚Рѕ ngrok Р°РєС‚РёРІРµРЅ
   - РџСЂРѕРІРµСЂСЊС‚Рµ Р»РѕРіРё СЃРµСЂРІРµСЂР°

### РљРѕРјР°РЅРґС‹ РґР»СЏ РѕС‚Р»Р°РґРєРё:

```bash
# РџСЂРѕРІРµСЂРєР° СЃС‚Р°С‚СѓСЃР° СЃРµСЂРІРёСЃР°
adb shell dumpsys activity services ru.example.childwatch

# РџСЂРѕРІРµСЂРєР° СѓРІРµРґРѕРјР»РµРЅРёР№
adb shell dumpsys notification

# РџСЂРёРЅСѓРґРёС‚РµР»СЊРЅР°СЏ РѕСЃС‚Р°РЅРѕРІРєР° РїСЂРёР»РѕР¶РµРЅРёСЏ
adb shell am force-stop ru.example.childwatch

# РћС‡РёСЃС‚РєР° РґР°РЅРЅС‹С… РїСЂРёР»РѕР¶РµРЅРёСЏ
adb shell pm clear ru.example.childwatch
```

## рџ”’ Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ

### Р РµР°Р»РёР·РѕРІР°РЅРЅС‹Рµ РјРµСЂС‹:

- вњ… HTTPS-only РґР»СЏ РІСЃРµС… СЃРµС‚РµРІС‹С… Р·Р°РїСЂРѕСЃРѕРІ
- вњ… Р›РѕРєР°Р»СЊРЅРѕРµ С…СЂР°РЅРµРЅРёРµ РЅР°СЃС‚СЂРѕРµРє РІ SharedPreferences
- вњ… РђРІС‚РѕСѓРґР°Р»РµРЅРёРµ СЃС‚Р°СЂС‹С… Р°СѓРґРёРѕС„Р°Р№Р»РѕРІ
- вњ… РЇРІРЅРѕРµ СЃРѕРіР»Р°СЃРёРµ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
- вњ… Р’РёРґРёРјС‹Рµ СѓРІРµРґРѕРјР»РµРЅРёСЏ Рѕ РјРѕРЅРёС‚РѕСЂРёРЅРіРµ

### Р РµРєРѕРјРµРЅРґР°С†РёРё РґР»СЏ РїСЂРѕРґР°РєС€РµРЅР°:

- рџ”ђ РСЃРїРѕР»СЊР·РѕРІР°С‚СЊ Firebase Authentication
- рџ”ђ РЁРёС„СЂРѕРІР°С‚СЊ РїРµСЂРµРґР°РІР°РµРјС‹Рµ РґР°РЅРЅС‹Рµ
- рџ”ђ Р РµР°Р»РёР·РѕРІР°С‚СЊ device fingerprinting
- рџ”ђ Р”РѕР±Р°РІРёС‚СЊ server-side РІР°Р»РёРґР°С†РёСЋ
- рџ”ђ РСЃРїРѕР»СЊР·РѕРІР°С‚СЊ СЃРµСЂС‚РёС„РёРєР°С‚ pinning

## рџљЂ Р Р°Р·РІРµСЂС‚С‹РІР°РЅРёРµ

### Р”Р»СЏ РїСЂРѕРґР°РєС€РµРЅР°:

1. **Р—Р°РјРµРЅРёС‚Рµ С‚РµСЃС‚РѕРІС‹Р№ СЃРµСЂРІРµСЂ** РЅР° РїРѕР»РЅРѕС†РµРЅРЅС‹Р№ backend
2. **РќР°СЃС‚СЂРѕР№С‚Рµ Firebase** (FCM, Storage, Firestore)
3. **Р”РѕР±Р°РІСЊС‚Рµ Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ** Рё Р°РІС‚РѕСЂРёР·Р°С†РёСЋ
4. **РќР°СЃС‚СЂРѕР№С‚Рµ HTTPS СЃРµСЂС‚РёС„РёРєР°С‚С‹**
5. **Р РµР°Р»РёР·СѓР№С‚Рµ web-РїР°РЅРµР»СЊ** РґР»СЏ СЂРѕРґРёС‚РµР»РµР№
6. **Р”РѕР±Р°РІСЊС‚Рµ СѓРІРµРґРѕРјР»РµРЅРёСЏ** Рё Р°Р»РµСЂС‚С‹

### TODO РґР»СЏ РїСЂРѕРґР°РєС€РµРЅР°:

- [ ] Firebase integration (FCM, Storage)
- [ ] Web dashboard РґР»СЏ СЂРѕРґРёС‚РµР»РµР№
- [ ] Push СѓРІРµРґРѕРјР»РµРЅРёСЏ РґР»СЏ Р°Р»РµСЂС‚РѕРІ
- [ ] Р¤РѕС‚Рѕ Р·Р°С…РІР°С‚ РїРѕ РєРѕРјР°РЅРґРµ
- [ ] Р“РµРѕС„РµРЅСЃРёРЅРі (СѓРІРµРґРѕРјР»РµРЅРёСЏ Рѕ РІС…РѕРґРµ/РІС‹С…РѕРґРµ РёР· Р·РѕРЅ)
- [ ] РСЃС‚РѕСЂРёСЏ РїРµСЂРµРјРµС‰РµРЅРёР№
- [ ] РќР°СЃС‚СЂРѕР№РєРё РєРѕРЅС„РёРґРµРЅС†РёР°Р»СЊРЅРѕСЃС‚Рё
- [ ] РњРЅРѕРіРѕРїРѕР»СЊР·РѕРІР°С‚РµР»СЊСЃРєРёР№ СЂРµР¶РёРј

## рџ“ћ РџРѕРґРґРµСЂР¶РєР°

Р”Р»СЏ РІРѕРїСЂРѕСЃРѕРІ Рё РїСЂРѕР±Р»РµРј:

1. РџСЂРѕРІРµСЂСЊС‚Рµ Р»РѕРіРё: `adb logcat | grep ChildWatch`
2. РЈР±РµРґРёС‚РµСЃСЊ РІ РїСЂР°РІРёР»СЊРЅРѕСЃС‚Рё РЅР°СЃС‚СЂРѕРµРє СЃРµСЂРІРµСЂР°
3. РџСЂРѕРІРµСЂСЊС‚Рµ РІСЃРµ СЂР°Р·СЂРµС€РµРЅРёСЏ РІ РЅР°СЃС‚СЂРѕР№РєР°С… Android
4. РћС‚РєР»СЋС‡РёС‚Рµ РѕРїС‚РёРјРёР·Р°С†РёСЋ Р±Р°С‚Р°СЂРµРё РґР»СЏ РїСЂРёР»РѕР¶РµРЅРёСЏ

---

**РџРћРњРќРРўР•**: РСЃРїРѕР»СЊР·СѓР№С‚Рµ СЌС‚Рѕ РїСЂРёР»РѕР¶РµРЅРёРµ С‚РѕР»СЊРєРѕ РІ Р·Р°РєРѕРЅРЅС‹С… С†РµР»СЏС… СЃ СЏРІРЅРѕРіРѕ СЃРѕРіР»Р°СЃРёСЏ РІСЃРµС… СѓС‡Р°СЃС‚РЅРёРєРѕРІ. Р Р°Р·СЂР°Р±РѕС‚С‡РёРєРё РЅРµ РЅРµСЃСѓС‚ РѕС‚РІРµС‚СЃС‚РІРµРЅРЅРѕСЃС‚Рё Р·Р° РЅРµРїСЂР°РІРѕРјРµСЂРЅРѕРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ.
